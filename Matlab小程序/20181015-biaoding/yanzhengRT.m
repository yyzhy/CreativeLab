clc;
clear;
% 计算相机坐标系的RT
% 乔根转台拍摄的IR图,用Dr.Ren标定库计算的外参数
% 第一个状态时的相机外参数
R0 = [[0.0494727219122, 0.969851248483, 0.238623145572];...
      [-0.0127454968202, 0.239509294177, -0.970810409047];...
      [-0.998694148425, 0.0449872628531, 0.0242104127098]];
T0 = [-391.053145708; 1001.30050159; 1022.46014578];
% 第二个状态时的相机外参数
R1 = [[0.0592721305579, 0.996806610454, 0.0535107082248];...
      [-0.0135697029008, 0.054404563514, -0.998426765783];...
      [-0.998149626911, 0.0584527572014, 0.0167510439449]];
T1 = [-34.5042159498;  1071.01894536;  1035.75220292];

RC = R0' * R1;
TC = R0' * (T1-T0);

RW = RC;
TW = R0 * TC - RC * T0 + T0;
fid = fopen('.\data12\RT.txt', 'w');
for j = 1 : 3
  fprintf(fid, '%f  %f  %f\n', RW(j,1), RW(j,2), RW(j,3));
end
fprintf(fid, '%f  %f  %f\n', TW(1,1), TW(2,1), TW(3,1));
fclose(fid);


clc;
clear;
% 计算相机坐标系的RT
% 乔根转台拍摄的IR图,用Dr.Ren标定库计算的外参数
% 第一个状态时的相机外参数
R0 = [[0.0579674027238,  0.935394840597,   0.348821261401];...
      [-0.045268317031,  0.35151223372,    -0.935088193177];...
      [-0.997291612165,  0.0384140824279,  0.0627200014077]];
T0 = [-444.611471496;   1102.04828603;    726.240071575];
% 第二个状态时的相机外参数
R1 = [[0.056744145908, 0.992220799225,   0.110806080568];...
      [-0.0353351267605,  0.112911263177,   -0.992976573472];...
      [-0.997763263867,  0.0524302606656,  0.0414673009074]];
T1 = [-254.418757297;   1174.45053088;    741.28407823];

RC = R0' * R1;
TC = R0' * (T1-T0);

RW = RC;
TW = R0 * TC - RC * T0 + T0;
fid = fopen('.\data12\RT.txt', 'w');
for j = 1 : 3
  fprintf(fid, '%f  %f  %f\n', RW(j,1), RW(j,2), RW(j,3));
end
fprintf(fid, '%f  %f  %f\n', TW(1,1), TW(2,1), TW(3,1));
fclose(fid);

